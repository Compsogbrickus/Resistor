execute if entity @s[tag=!calc.dmg_fire] unless predicate dmg_calc:effect/fire_resistance if block ~ ~-0.2 ~ magma_block run tag @s add calc.dmg_fire